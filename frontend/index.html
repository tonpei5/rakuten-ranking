<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <title>楽天アニメランキング</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<div class="container py-4">
    <h1>楽天アニメ・フィギュアランキング</h1>

    <select id="genre" class="form-select mb-3">
        <option value="112203">フィギュア</option>
        <option value="201975">コミック</option>
        <option value="101164">キャラクターグッズ</option>
    </select>

    <div class="row" id="items"></div>
</div>

<script>
const API = "https://YOUR-WORKER-NAME.workers.dev/ranking";

async function loadRanking() {
    const genre = document.getElementById("genre").value;
    const res = await fetch(`${API}?genre=${genre}`);
    const data = await res.json();

    const el = document.getElementById("items");
    el.innerHTML = "";

    data.items.forEach(item => {
        el.innerHTML += `
        <div class="col-6 col-md-3 col-lg-2 mb-3">
            <div class="card h-100">
                <img src="${item.image}" style="height:100px;object-fit:contain">
                <div class="card-body">
                    <div style="font-size:13px">${item.name}</div>
                    <div class="text-danger fw-bold">${item.price}円</div>
                </div>
            </div>
        </div>`;
    });
}

document.getElementById("genre").addEventListener("change", loadRanking);
loadRanking();
</script>

</body>
</html>
